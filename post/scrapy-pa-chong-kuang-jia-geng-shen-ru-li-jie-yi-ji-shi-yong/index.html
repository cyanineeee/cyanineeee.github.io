<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>scrapyçˆ¬è™«æ¡†æ¶æ·±å…¥ç†è§£ -- æœªæ•´ç†å®Œ | cyanine</title>
<link rel="shortcut icon" href="http://localhost:4000/favicon.ico?v=1723632390821">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="http://localhost:4000/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="scrapyçˆ¬è™«æ¡†æ¶æ·±å…¥ç†è§£ -- æœªæ•´ç†å®Œ | cyanine - Atom Feed" href="http://localhost:4000/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="1. loggingæ¨¡å—
2. ç¯å¢ƒå˜é‡ï¼ˆsettingï¼‰
å®˜æ–¹æ–‡æ¡£
2.1 å¦‚ä½•è®¾ç½®å¹¶è®¿é—®setting
2.1.1 åœ¨spiderä¸­
spiderä¸­ï¼Œsettingæ˜¯ä¸€ä¸ªç»§æ‰¿scrapy.Spiderçš„ä¸€ä¸ªå®ä¾‹å±æ€§ï¼Œå¯ä»¥é€šè¿‡self.s..." />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="http://localhost:4000">
  <img class="avatar" src="http://localhost:4000/images/avatar.png?v=1723632390821" alt="">
  </a>
  <h1 class="site-title">
    cyanine
  </h1>
  <p class="site-description">
    my personal blog
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          Home Page
        </a>
      
    
      
        <a href="/archives" class="menu">
          Archive
        </a>
      
    
      
        <a href="/tags" class="menu">
          Tags
        </a>
      
    
      
        <a href="/post/about" class="menu">
          About
        </a>
      
    
      
        <a href="http://localhost:4000/post/cczhi-zhen" class="menu">
          å‡‘æ•°
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              scrapyçˆ¬è™«æ¡†æ¶æ·±å…¥ç†è§£ -- æœªæ•´ç†å®Œ
            </h2>
            <div class="post-info">
              <span>
                2023-06-17
              </span>
              <span>
                6 min read
              </span>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content" v-pre>
                <h2 id="1-loggingæ¨¡å—">1. loggingæ¨¡å—</h2>
<h2 id="2-ç¯å¢ƒå˜é‡setting">2. ç¯å¢ƒå˜é‡ï¼ˆsettingï¼‰</h2>
<p><a href="https://doc.scrapy.org/en/latest/topics/settings.html#topics-settings">å®˜æ–¹æ–‡æ¡£</a></p>
<h3 id="21-å¦‚ä½•è®¾ç½®å¹¶è®¿é—®setting">2.1 å¦‚ä½•è®¾ç½®å¹¶è®¿é—®setting</h3>
<h4 id="211-åœ¨spiderä¸­">2.1.1 åœ¨spiderä¸­</h4>
<p>spiderä¸­ï¼Œsettingæ˜¯ä¸€ä¸ªç»§æ‰¿scrapy.Spiderçš„ä¸€ä¸ªå®ä¾‹å±æ€§ï¼Œå¯ä»¥é€šè¿‡self.settingè®¿é—®å¯¹åº”åœ¨setting.pyä¸­çš„ç¯å¢ƒå˜é‡ã€‚</p>
<pre><code class="language-python">#åœ¨setting.pyæ–‡ä»¶ä¸­
MONGO_URI=' å¯¹åº”çš„URI'
</code></pre>
<pre><code class="language-python">#åœ¨spiderä¸­è°ƒç”¨
class ExampleSpider(scrapy.Spider):
    ...#çœç•¥
    def parse(self, response):
        mongodb = self.settings['MONGO_URI']
        logging.log(logging.INFO,mongodb)
    #ä¼šåœ¨æ—¥å¿—ä¸­è¾“å‡º
    #2023-06-17 16:44:04 [root] INFO: å¯¹åº”çš„URI
</code></pre>
<p>scrapyåŒæ ·æ”¯æŒä¸ºæ¯ä¸€ä¸ªSpiderè®¾ç½®ä¸åŒçš„ç¯å¢ƒå˜é‡ï¼Œä»¥é¿å…æ‰€æœ‰ç¯å¢ƒå˜é‡éƒ½æŒ¤åœ¨ä¸€ä¸ªsetting.pyæ–‡ä»¶ä¸­é€ æˆè‡ƒè‚¿ã€‚åœ¨æ¯ä¸€ä¸ªspiderå®ä¾‹ä¸­éƒ½æœ‰ä¸€ä¸ªç»§æ‰¿æ¥çš„custom_settingså±æ€§å¯ä»¥ä¿®æ”¹ï¼Œå®ƒæ˜¯ä¸€ä¸ªå­—å…¸ç±»å‹ï¼Œæ‰€æœ‰å•ç‹¬çš„ç¯å¢ƒå˜é‡éƒ½å¯ä»¥åœ¨è¿™é‡Œå£°æ˜ï¼ŒåŒ…æ‹¬cookies, header, ä»¥åŠå…¶ä»–å¯ä»¥å†™åœ¨setting.pyæ–‡ä»¶ä¸­çš„å˜é‡ã€‚å£°æ˜æ–¹æ³•è·ŸSpiderçš„nameå±æ€§ç›¸åŒã€‚è°ƒç”¨åˆ™é€šè¿‡self.custom_settingsä½¿ç”¨åœ¨æ–¹æ³•ä¸­ã€‚</p>
<h4 id="212-åœ¨pipelineç­‰å…¶ä»–ç»„ä»¶ä¸­">2.1.2 åœ¨pipelineç­‰å…¶ä»–ç»„ä»¶ä¸­</h4>
<p>ä½¿ç”¨ç±»æ–¹æ³•from_crawler()å¯ä»¥è®¿é—®åˆ°<br>
<a href="https://docs.scrapy.org/en/latest/topics/settings.html#how-to-access-settings">å®˜æ–¹æ–‡æ¡£å‚è€ƒ</a></p>
<blockquote>
<p>â€œ<strong>Settings can be accessed through the scrapy.crawler.Crawler.settings attribute of the Crawler that is passed to from_crawler method in extensions, middlewares and item pipelines</strong>â€</p>
</blockquote>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="language-python">class MyExtension:
    def __init__(self, log_is_enabled=False):
        if log_is_enabled:
            print(&quot;log is enabled!&quot;)

    @classmethod
    def from_crawler(cls, crawler):
        settings = crawler.settings
        return cls(settings.getbool(&quot;LOG_ENABLED&quot;))
</code></pre>
<p>åœ¨<code>from_crawler()</code>æ–¹æ³•ä¸­çš„settingå¯¹è±¡æ˜¯ä¸€ä¸ªç±»å­—å…¸å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥ç”¨å­—å…¸çš„æ–¹å¼è®¿é—®ç¯å¢ƒå˜é‡(ä¾‹å¦‚ï¼š<code>e.g., settings['LOG_ENABLED']</code>)ï¼Œä½†æ˜¯ä¸ºäº†é¿å…å¯èƒ½çš„ç±»å‹é”™è¯¯ï¼ˆæ¯”å¦‚è°ƒç”¨éœ€è¦intç±»å‹ï¼Œä½†æ˜¯ç¯å¢ƒå˜é‡ä¸­æ˜¯strç±»å‹ï¼Œç›´æ¥ä½¿ç”¨keyè®¿é—®å°±å¯èƒ½è¿”å›intç±»å‹é€ æˆé”™è¯¯ï¼‰ï¼Œæ›´æ¨èä½¿ç”¨settingå¯¹è±¡çš„apiã€‚</p>
<blockquote>
<p><a href="https://docs.scrapy.org/en/latest/topics/api.html#scrapy.settings.Settings">å®˜æ–¹æ–‡æ¡£ä¸­settingå¯¹è±¡çš„api</a><br>
åŒ…æ‹¬<code>get()</code>,<code>getbool()</code>, <code>getdict()</code>, <code>getdictorlist()</code>, <code>getfloat()</code>,  <code>getint()</code>,  <code>getlist()</code>ç­‰ï¼Œç”¨é€”ä¹Ÿèƒ½ä»æ–¹æ³•åæ˜¾è€Œæ˜“è§å‡ºï¼Œå…·ä½“è¯·å‚è€ƒå®˜æ–¹é“¾æ¥ã€‚</p>
</blockquote>
<h2 id="1-crawleræ¨¡å—">1. crawleræ¨¡å—</h2>
<h2 id="2-itemæºç å¦‚ä½•å®ç°å­˜å‚¨keyå­—æ®µ">2. itemæºç å¦‚ä½•å®ç°å­˜å‚¨keyå­—æ®µ,</h2>
<p>https://www.cnblogs.com/twelfthing/articles/4709287.html<br>
https://www.cnblogs.com/fengf233/p/11298623.html#2.field()%E7%B1%BB</p>
<h2 id="5-å¤šä¸ªspiderä»¥åŠå¤šä¸ªpipelineå¯¹åº”çš„è®¾ç½®">5. å¤šä¸ªSpiderä»¥åŠå¤šä¸ªPipelineå¯¹åº”çš„è®¾ç½®</h2>
<p>https://www.ziji.work/python/scrapy-many-spider-pipeline.html#SCRAPYSPIDER-4</p>
<h2 id="6-å¤§ä½¬çš„æºç è§£æ">6. å¤§ä½¬çš„æºç è§£æ</h2>
<p>è™½ç„¶ç°åœ¨åŸºæœ¬çœ‹ä¸æ‡‚ï¼ˆÃ—<br>
http://kaito-kidd.com/2016/11/09/scrapy-code-analyze-entrance/</p>
<h2 id="7-è®¿é—®setting">7. è®¿é—®setting</h2>
<h2 id="8-ä¸ºä»€ä¹ˆfrom_crawleræ–¹æ³•éœ€è¦è®¾ç½®ä¸ºç±»æ–¹æ³•">8. ä¸ºä»€ä¹ˆfrom_crawleræ–¹æ³•éœ€è¦è®¾ç½®ä¸ºç±»æ–¹æ³•ï¼Ÿ</h2>
<p><a href="https://www.keepnight.com/archives/1126/">æç‚¹é“¾æ¥</a><br>
æœ€åè¿™ç¯‡åšå®¢çš„æœ€åä¸€å¥è¯ç®€ç›´ä¸€ä¸‹å­ç»™æˆ‘ç‚¹é€äº†ï¼Œè™½ç„¶ä¹‹å‰ä¸“é—¨å»æŸ¥äº†<code>@classmethod</code>ã€factory methodè¿™äº›ä¸œè¥¿ï¼Œä½†ä¸ºä»€ä¹ˆè¿™ä¹ˆåšè¿˜æ˜¯å¾ˆæ··ä¹±ã€‚</p>
<blockquote>
<p><strong>å¤§æ¦‚å°±æ˜¯æ£€æµ‹spiderç±»æœ‰æ²¡æœ‰from_crawlerï¼Œæœ‰çš„è¯å°±returnä¸€ä¸ªcls()çš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œäº§ç”Ÿå®ä¾‹åŒ–å¯¹è±¡åä¼šè‡ªåŠ¨è°ƒ__init__æ–¹æ³•ã€‚</strong></p>
</blockquote>
<p>ç»“åˆå®˜æ–¹æ–‡æ¡£çš„<a href="https://docs.scrapy.org/en/latest/topics/api.html?highlight=crawler#scrapy.crawler.CrawlerRunner.create_crawler">Crawler API</a>ã€<a href="https://docs.scrapy.org/en/latest/topics/item-pipeline.html#from_crawler">pipelineä¸­from_crawler()æ–¹æ³•</a>ã€<a href="https://docs.scrapy.org/en/latest/topics/spiders.html?highlight=crawler#scrapy.Spider.from_crawler">Spiderä¸­from_crawler()æ–¹æ³•</a>ï¼Œä»¥åŠ<a href="http://kaito-kidd.com/2016/11/09/scrapy-code-analyze-entrance/">å¤§ä½¬å¯¹scrapyæºç çš„è§£æ</a>æ‰æœ‰ä¸€ç§çªç„¶é†’æ‚Ÿçš„æ„Ÿè§‰ã€‚</p>
<blockquote>
<p>PS. è¿™é‡Œæˆ‘ä¸€ç›´çŠ¯äº†ä¸€ä¸ªæ¦‚å¿µä¸Šçš„é”™è¯¯ï¼Œæˆ‘ä¸€ç›´ä»¥ä¸ºç¤ºä¾‹ä»£ç ä¸­<code>from_crawler(cls, cralwer)</code> çš„crawleræ˜¯ç±»çš„å±æ€§å‚æ•°ï¼ˆæˆ‘è¯¯è®¤ä¸ºæ˜¯æœ‰ç‚¹åƒæ„é€ æ–¹æ³•ä¸­çš„å‚æ•°ï¼Œè¢«æˆ‘ææ··äº†ğŸ˜£ï¼‰ï¼Œæ˜¯ä¸€ä¸ªå®šä¹‰åœ¨å½“å‰ç±»é‡Œé¢çš„ä¸€ä¸ªç»§æ‰¿è¿‡æ¥çš„å±æ€§ï¼Œå› æ­¤èŠ±äº†å¾ˆå¤šæ—¶é—´å»æŸ¥è¿™ä¸ª<code>crawler</code>åœ¨scrapyä¸­çš„ä½œç”¨ã€‚ä½†æ˜¯å®é™…ä¸Šå®ƒåªæ˜¯ä¸€ä¸ªå‡½æ•°çš„å½¢å‚ï¼Œå®ƒæœ¬èº«ä¸å¸¦æœ‰ä»»ä½•æ„ä¹‰ï¼ˆå°±åƒæ˜¯å®šä¹‰å‡½æ•°çš„æ—¶å€™æ‹¬å·é‡Œçš„a,b,c,dç­‰å‚æ•°ä¸€æ ·ï¼‰ã€‚ç„¶ååˆå› ä¸ºcrawleråœ¨scrapyåˆæ˜¯ä¸€ä¸ªå…³é”®å¯¹è±¡ï¼Œæ‰€ä»¥æŸ¥äº†å¾ˆä¹…éƒ½æ²¡æœ‰ç»“æœã€‚<br>
ç›´åˆ°æˆ‘çœ‹åˆ°äº†ä¸Šé¢é‚£ç¯‡æç‚¹é“¾æ¥çš„åšå®¢ï¼Œè¿™æ‰æƒ³é€šäº†ã€‚</p>
</blockquote>
<p>ä»æˆ‘çš„ç†è§£æ¥è¯´ ï¼š<br>
ç¬¬ä¸€æ­¥ï¼Œåœ¨è¿è¡Œè¿™ä¸ªçˆ¬è™«ä¹‹å‰ï¼Œscrapyä¼šä¸ºè¿è¡Œåšä¸€äº›å‡†å¤‡ï¼Œå…¶ä¸­å°±åŒ…æ‹¬åˆ¤æ–­pipelineï¼Œ spider, è¿˜æœ‰å…¶ä»–ä¸€äº›ç»„ä»¶ä¸­çš„<code>from_crawler()</code>æ–¹æ³•æ˜¯å¦è¢«é‡å†™ï¼Œè¿™ä¸ªåˆ¤æ–­å°±éœ€è¦åœ¨ç±»æ²¡æœ‰å®ä¾‹åŒ–ä¹‹å‰è°ƒç”¨ï¼Œæ‰€ä»¥<code>from_crawler()</code>è¢«å®šä¹‰ä¸ºç±»æ–¹æ³•ã€‚<br>
ç¬¬äºŒæ­¥ï¼Œä¹‹åæ ¹æ®å…·ä½“çš„ç±»ï¼Œåœ¨ä»Crawlerè¿™ä¸ªå¯¹è±¡ä¸­å®ä¾‹åŒ–ä¸€ä¸ªå¯¹åº”çš„from_crawleræ–¹æ³•ã€‚<br>
ä¸Šé¢è¿™å¥è¯æœ‰ä¸¤ç‚¹éœ€è¦ç€é‡ç†è§£ã€‚</p>
<ol>
<li>ç¬¬ä¸€ç‚¹ï¼Œè¿™ä¹Ÿå°±æ˜¯<code>from_crawler()</code>æ˜¯ä¸€ä¸ªâ€œfactory methodâ€ï¼Œscrapyä¼šæ ¹æ®ä¸åŒçš„å¯¹è±¡ä¸ºç±»èµ‹äºˆä¸åŒçš„<code>from_crawler()</code>æ–¹æ³•ã€‚åœ¨æˆ‘çš„ç†è§£ä¸­ï¼Œå°±æ˜¯æœ‰ä¸€ä¸ªç±»ï¼Œä¸“é—¨è´Ÿè´£ä¸ºå…¶ä»–ä¸åŒçš„ç±»èµ‹äºˆä¸åŒçš„<code>from_crawler()</code>æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯<strong>ç±»æ–¹æ³•çš„ç±»</strong>ã€‚</li>
<li>ç¬¬äºŒç‚¹ï¼Œscrapyä»Crawler<code>åˆ›å»ºfrom_crawler()</code>çš„å«ä¹‰å°±æ˜¯ä¸ºè¿™ä¸ªæ–¹æ³•ä¼ å…¥ä¸€ä¸ª<code>scrapy.crawler.Crawler</code>å¯¹è±¡ï¼Œè€Œè¿™ä¸ªå¯¹è±¡åˆæ˜¯ç”±scrapyé€šè¿‡ä¸€ä¸ª<code>Spiderå­ç±»</code>å’Œ<code>scrapy.settings.Settings </code>å¯¹è±¡å®ä¾‹åŒ–è€Œæ¥ã€‚</li>
</ol>
<blockquote>
<p><a href="https://docs.scrapy.org/en/latest/topics/api.html#scrapy.crawler.Crawler">å®˜æ–¹æ–‡æ¡£</a><br>
<strong><code>classscrapy.crawler.Crawler(spidercls, settings)</code></strong><br>
<strong>The Crawler object must be instantiated with a scrapy.Spider subclass and a scrapy.settings.Settings object.</strong></p>
</blockquote>
<p>å› æ­¤ï¼Œåœ¨Crawlerå¯¹è±¡ä¸­å°±æœ‰èƒ½è¿‡è·å–settingçš„APIï¼Œè¿™ä¸ªAPIå’Œ2.1.2ä¸­çš„settingå¯¹è±¡çš„ä¸€æ¨¡ä¸€æ ·ï¼ˆå› ä¸ºæœ¬æ¥å°±æ˜¯ä¸€ä¸ªä¸œè¥¿ğŸ‘ï¼Œéƒ½æ˜¯settingå¯¹è±¡ï¼Œè¿™é‡Œå°±æœ‰ä¸²èµ·æ¥çš„æ„Ÿè§‰äº†ï¼‰</p>
<h3 id="9-è®¾ç½®cookies">9. è®¾ç½®cookies</h3>
<p><a href="https://zhuanlan.zhihu.com/p/337212121">çŸ¥ä¹å‚è€ƒ</a>ä½†æ˜¯æ²¡æœ‰è®²åŸç†</p>
<h3 id="10-å…³é—­scrapyæ—¥å¿—">10. å…³é—­scrapyæ—¥å¿—</h3>
<p><a href="https://www.qiniu.com/qfans/qnso-33203620">å‚è€ƒ</a><br>
<a href="https://coding.imooc.com/learn/questiondetail/133488.html">è§£å†³æ–¹æ³•</a></p>
<p>æ·»åŠ twistedå®šæ—¶å™¨ ä»¥åŠ è¾“å‡ºè°ƒç”¨æ—¥å¿—<br>
https://www.jianshu.com/p/5a5cdd7f2bfb</p>
<h3 id="11-å®šæ—¶è°ƒåº¦scrapy">11. å®šæ—¶è°ƒåº¦scrapy</h3>
<p>https://blog.csdn.net/python36/article/details/82683528</p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#1-logging%E6%A8%A1%E5%9D%97">1. loggingæ¨¡å—</a></li>
<li><a href="#2-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8Fsetting">2. ç¯å¢ƒå˜é‡ï¼ˆsettingï¼‰</a>
<ul>
<li><a href="#21-%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AE%E5%B9%B6%E8%AE%BF%E9%97%AEsetting">2.1 å¦‚ä½•è®¾ç½®å¹¶è®¿é—®setting</a>
<ul>
<li><a href="#211-%E5%9C%A8spider%E4%B8%AD">2.1.1 åœ¨spiderä¸­</a></li>
<li><a href="#212-%E5%9C%A8pipeline%E7%AD%89%E5%85%B6%E4%BB%96%E7%BB%84%E4%BB%B6%E4%B8%AD">2.1.2 åœ¨pipelineç­‰å…¶ä»–ç»„ä»¶ä¸­</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#1-crawler%E6%A8%A1%E5%9D%97">1. crawleræ¨¡å—</a></li>
<li><a href="#2-item%E6%BA%90%E7%A0%81%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%AD%98%E5%82%A8key%E5%AD%97%E6%AE%B5">2. itemæºç å¦‚ä½•å®ç°å­˜å‚¨keyå­—æ®µ,</a></li>
<li><a href="#5-%E5%A4%9A%E4%B8%AAspider%E4%BB%A5%E5%8F%8A%E5%A4%9A%E4%B8%AApipeline%E5%AF%B9%E5%BA%94%E7%9A%84%E8%AE%BE%E7%BD%AE">5. å¤šä¸ªSpiderä»¥åŠå¤šä¸ªPipelineå¯¹åº”çš„è®¾ç½®</a></li>
<li><a href="#6-%E5%A4%A7%E4%BD%AC%E7%9A%84%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90">6. å¤§ä½¬çš„æºç è§£æ</a></li>
<li><a href="#7-%E8%AE%BF%E9%97%AEsetting">7. è®¿é—®setting</a></li>
<li><a href="#8-%E4%B8%BA%E4%BB%80%E4%B9%88from_crawler%E6%96%B9%E6%B3%95%E9%9C%80%E8%A6%81%E8%AE%BE%E7%BD%AE%E4%B8%BA%E7%B1%BB%E6%96%B9%E6%B3%95">8. ä¸ºä»€ä¹ˆfrom_crawleræ–¹æ³•éœ€è¦è®¾ç½®ä¸ºç±»æ–¹æ³•ï¼Ÿ</a>
<ul>
<li><a href="#9-%E8%AE%BE%E7%BD%AEcookies">9. è®¾ç½®cookies</a></li>
<li><a href="#10-%E5%85%B3%E9%97%ADscrapy%E6%97%A5%E5%BF%97">10. å…³é—­scrapyæ—¥å¿—</a></li>
<li><a href="#11-%E5%AE%9A%E6%97%B6%E8%B0%83%E5%BA%A6scrapy">11. å®šæ—¶è°ƒåº¦scrapy</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">ä¸‹ä¸€ç¯‡</div>
            <a href="http://localhost:4000/post/scrapy-item-fu-zhi-tian-chong-xi-jie-zhu-yi/">
              <h3 class="post-title">
                scrapy itemèµ‹å€¼/å¡«å…… ç»†èŠ‚æ³¨æ„
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="http://localhost:4000/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
